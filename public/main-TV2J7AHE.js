import{f as De,g as y,h as k,m as ke,n as O,p as Oe,u as Ne}from"./chunk-VNYYJPM6.js";import{d as Re}from"./chunk-BC45SETJ.js";import{a as f}from"./chunk-SZYKANWC.js";import{a as D,b as me}from"./chunk-KB63F72J.js";import{b as R,c as re,d as ae,f as se,h as le,i as g,j as ce,k as de,l as pe}from"./chunk-CWSCUUYC.js";import{J as Ee,M as Me,j as ue,k as ge,l as fe,m as ve,n as he,o as ye,p as Ae,q as Se,r as be,s as Ce,t as _e,v as Ie,w as xe,z as we}from"./chunk-GMVTRFNN.js";import"./chunk-CARY4E7O.js";import{d as M,k as ie}from"./chunk-V6SC6RTQ.js";import{$a as T,Ba as q,Cb as r,Db as a,Eb as m,Ib as Q,Ka as h,Nb as ee,Ob as L,Rb as te,Xa as J,Xb as s,Y as $,Yb as E,Zb as ne,_a as l,aa as C,ab as K,ba as V,cb as x,da as z,eb as w,ec as oe,fa as _,ga as d,gb as P,ha as v,hb as u,la as G,ma as W,pa as I,qa as Z,qb as X,sb as p,va as Y,wa as H}from"./chunk-NVPCUW4N.js";import{g as U}from"./chunk-5G567QLT.js";var N=(e,n)=>{let t=d(f),o=d(D),i=d(g);return new Promise(c=>{t.getRol()=="admin"?c(!0):(i.navigate(["/home"]),o.error("Debes ser administrador para acceder a esta seccion.","Permisos insuficientes"),c(!1))})};var A=(e,n)=>{let t=d(f),o=d(D),i=d(g);return new Promise(c=>{t.getLogged()?c(!0):(i.navigate(["/home"]),o.error("No estas autenticado para acceder a esta seccion.","Permisos insuficientes"),c(!1))})};var Te=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-WU4I4D3Z.js").then(e=>e.HomeComponent)},{path:"login",loadComponent:()=>import("./chunk-656ELABW.js").then(e=>e.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-P4ALUCVH.js").then(e=>e.RegisterComponent)},{path:"perfil",loadComponent:()=>import("./chunk-U5MTIASQ.js").then(e=>e.PerfilComponent),canActivate:[A]},{path:"usuarios",loadComponent:()=>import("./chunk-JBCYNML7.js").then(e=>e.UsuariosComponent),canActivate:[N]},{path:"registro-admin/:rol",loadComponent:()=>import("./chunk-SKNSQP7L.js").then(e=>e.RegistroAdminComponent),canActivate:[N]},{path:"solicitar-turno",loadComponent:()=>import("./chunk-BZTHDIFR.js").then(e=>e.SolicitarTurnoComponent),canActivate:[A]},{path:"mis-turnos",loadComponent:()=>import("./chunk-BQUPEEFA.js").then(e=>e.MisTurnosComponent),canActivate:[A]},{path:"turnos",loadComponent:()=>import("./chunk-3WFYDWTB.js").then(e=>e.TurnosComponent),canActivate:[N]},{path:"pacientes",loadComponent:()=>import("./chunk-P7ESMVKY.js").then(e=>e.PacientesComponent),canActivate:[A]},{path:"estadisticas",loadComponent:()=>import("./chunk-LNHK4RFC.js").then(e=>e.EstadisticasComponent)}];var S=class{constructor(n){return n}},Pe="storage",F=class{constructor(){return ve(Pe)}};var j=new z("angularfire2.storage-instances");function Ze(e,n){let t=fe(Pe,e,n);return t&&new S(t)}function Ye(e){return(n,t)=>{let o=n.runOutsideAngular(()=>e(t));return new S(o)}}var He={provide:F,deps:[[new v,j]]},qe={provide:S,useFactory:Ze,deps:[[new v,j],Se]};function Le(e,...n){return ue("angularfire",ge.full,"gcs"),I([qe,He,{provide:j,useFactory:Ye(e),multi:!0,deps:[u,q,ye,be,[new v,Ie],[new v,he],...n]}])}var Fe=Ae(Re,!0);var Je="@",Ke=(()=>{class e{constructor(t,o,i,c,b){this.doc=t,this.delegate=o,this.zone=i,this.animationType=c,this.moduleImpl=b,this._rendererFactoryPromise=null,this.scheduler=d(x,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-YJQR3PYP.js")).catch(o=>{throw new $(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:i})=>{this._engine=o(this.animationType,this.doc,this.scheduler);let c=new i(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(t,o){let i=this.delegate.createRenderer(t,o);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let c=new B(i);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(b=>{let We=b.createRenderer(t,o);c.use(We)}).catch(b=>{c.use(i)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(o){K()}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})(),B=class{constructor(n){this.delegate=n,this.replay=[],this.\u0275type=1}use(n){if(this.delegate=n,this.replay!==null){for(let t of this.replay)t(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,t){this.delegate.appendChild(n,t)}insertBefore(n,t,o,i){this.delegate.insertBefore(n,t,o,i)}removeChild(n,t,o){this.delegate.removeChild(n,t,o)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,o,i){this.delegate.setAttribute(n,t,o,i)}removeAttribute(n,t,o){this.delegate.removeAttribute(n,t,o)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,o,i){this.delegate.setStyle(n,t,o,i)}removeStyle(n,t,o){this.delegate.removeStyle(n,t,o)}setProperty(n,t,o){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(n,t,o)),this.delegate.setProperty(n,t,o)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,o){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(n,t,o)),this.delegate.listen(n,t,o)}shouldReplay(n){return this.replay!==null&&n.startsWith(Je)}};function Be(e="animations"){return P("NgAsyncAnimations"),I([{provide:w,useFactory:(n,t,o)=>new Ke(n,t,o,e),deps:[M,R,u]},{provide:h,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Xe=(()=>{class e extends O{constructor(t,o,i){super(t,o,i,d(x,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(o){return new(o||e)(_(M),_(y),_(k))}}static{this.\u0275prov=C({token:e,factory:e.\u0275fac})}}return e})();function Qe(){return new ke}function et(e,n,t){return new Ne(e,n,t)}var $e=[{provide:k,useFactory:Qe},{provide:O,useClass:Xe},{provide:w,useFactory:et,deps:[R,O,u]}],Ue=[{provide:y,useFactory:()=>new Oe},{provide:h,useValue:"BrowserAnimations"},...$e],tt=[{provide:y,useClass:De},{provide:h,useValue:"NoopAnimations"},...$e],Ve=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?tt:Ue}}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=W({type:e})}static{this.\u0275inj=V({providers:Ue,imports:[ae]})}}return e})();var ze={providers:[pe(Te),Ce(()=>_e({projectId:"clinica-online-monserrat",appId:"1:852468060524:web:1dc5a2bf84de0a8c136349",storageBucket:"clinica-online-monserrat.appspot.com",apiKey:"AIzaSyCL8ZnSu6G_ivMtA1q_u-g3JW8FlB3LzlU",authDomain:"clinica-online-monserrat.firebaseapp.com",messagingSenderId:"852468060524"})),xe(()=>we()),Ee(()=>Me()),Le(()=>Fe()),Be(),me(),Z(Ve)]};function nt(e,n){e&1&&(r(0,"li",7)(1,"button",11),s(2,"Iniciar sesion"),a()())}function ot(e,n){e&1&&(r(0,"li",7)(1,"button",12),s(2,"Registrarse"),a()())}function it(e,n){e&1&&(r(0,"li",7)(1,"button",13),s(2,"Ayuda"),a()())}function rt(e,n){e&1&&(r(0,"li",7)(1,"button",14),s(2,"Usuarios"),a()())}function at(e,n){e&1&&(r(0,"li",7)(1,"button",15),s(2,"Estadisticas"),a()())}function st(e,n){e&1&&(r(0,"li",7)(1,"button",16),s(2,"Turnos"),a()())}function lt(e,n){e&1&&(r(0,"li",7)(1,"button",17),s(2,"Mis turnos"),a()())}function ct(e,n){e&1&&(r(0,"li",7)(1,"button",18),s(2,"Solicitar turno"),a()())}function dt(e,n){e&1&&(r(0,"li",7)(1,"button",19),s(2,"Pacientes"),a()())}function pt(e,n){if(e&1){let t=Q();r(0,"li",20)(1,"button",21)(2,"b"),s(3),a()(),r(4,"div",22)(5,"div",23),m(6,"img",24),a(),m(7,"div",25),r(8,"b",26),s(9,"Datos"),a(),r(10,"span",27),s(11),a(),r(12,"span",27),s(13),a(),r(14,"span",28),s(15),a(),m(16,"div",29),r(17,"a",30)(18,"b",31),s(19,"Mi perfil"),a()(),m(20,"div",29),r(21,"a",32),ee("click",function(){Y(t);let i=L();return H(i.logout())}),r(22,"b",31),s(23,"Cerrar sesion"),a()()()()}if(e&2){let t=L();l(3),E(t.userData?t.userData.nombre+" "+t.userData.apellido:""),l(3),te("src",t.userData?t.userData.imagenUno:"",J),l(5),E(t.userData?t.userData.nombre+" "+t.userData.apellido:""),l(2),E(t.userData?t.userData.email:""),l(2),ne("Perfil de ",t.rol,"")}}var Ge=(()=>{class e{constructor(t,o){this.userService=t,this.router=o,this.firstTime=!0,this.isLogged=!1,this.rol="",this.router.events.subscribe(i=>{i instanceof se&&this.checkState()})}checkState(){return U(this,null,function*(){this.firstTime&&(yield this.userService.getState())&&(this.isLogged=!0,this.firstTime=!1,this.userService.getUserProfile().then(o=>{this.userData=o,this.rol=o.rol}),this.router.navigate(["/home"]))})}logout(){this.userService.logout().then(()=>{this.isLogged=!1}).catch(t=>console.log(t))}static{this.\u0275fac=function(o){return new(o||e)(T(f),T(g))}}static{this.\u0275cmp=G({type:e,selectors:[["app-root"]],standalone:!0,features:[oe],decls:21,vars:10,consts:[[1,"custom-nav","navbar","navbar-expand-lg","navbar-light","shadow"],["routerLink","home",1,"navbar-brand","d-flex","align-items-center"],["src","assets/icon_mon.png","alt","Icono",1,"d-inline-block","align-top","ml-2","mt-1","icono"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav","nav-opt"],[1,"nav-item","mx-3"],["routerLink","home","routerLinkActive","ruta-activa",1,"nav-link"],["class","nav-item mx-3",4,"ngIf"],["class","nav-item dropdown mx-3 d-flex",4,"ngIf"],["routerLink","login","routerLinkActive","ruta-activa",1,"nav-link"],["routerLink","register","routerLinkActive","ruta-activa",1,"nav-link"],["routerLink","ayuda","routerLinkActive","ruta-activa",1,"nav-link"],["routerLink","usuarios","routerLinkActive","ruta-activa",1,"nav-link"],["routerLink","estadisticas","routerLinkActive","ruta-activa",1,"nav-link"],["routerLink","turnos","routerLinkActive","ruta-activa",1,"nav-link"],["routerLink","mis-turnos","routerLinkActive","ruta-activa",1,"nav-link"],["routerLink","solicitar-turno","routerLinkActive","ruta-activa",1,"nav-link"],["routerLink","pacientes","routerLinkActive","ruta-activa",1,"nav-link"],[1,"nav-item","dropdown","mx-3","d-flex"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-end","mb-3","rounded-bottom"],[1,"col","img-container","text-center"],["width","110","alt","Perfil",1,"img-user",3,"src"],[1,"dropdown-divider"],[1,"dropdown-item-text","logout-text","mt-1"],[1,"dropdown-item-text","logout-text"],[1,"dropdown-item-text","logout-text","mb-4"],[1,"dropdown-divider","div-custom"],["routerLink","perfil",1,"dropdown-item","a-custom"],[1,"logout-text"],[1,"dropdown-item","a-custom",3,"click"]],template:function(o,i){o&1&&(r(0,"nav",0)(1,"a",1),m(2,"img",2),a(),r(3,"button",3),m(4,"span",4),a(),r(5,"div",5)(6,"ul",6)(7,"li",7)(8,"button",8),s(9,"Inicio"),a()(),X(10,nt,3,0,"li",9)(11,ot,3,0,"li",9)(12,it,3,0,"li",9)(13,rt,3,0,"li",9)(14,at,3,0,"li",9)(15,st,3,0,"li",9)(16,lt,3,0,"li",9)(17,ct,3,0,"li",9)(18,dt,3,0,"li",9)(19,pt,24,5,"li",10),a()()(),m(20,"router-outlet")),o&2&&(l(10),p("ngIf",i.isLogged==!1),l(),p("ngIf",i.isLogged==!1),l(),p("ngIf",i.isLogged==!1),l(),p("ngIf",i.rol==="admin"),l(),p("ngIf",i.rol==="admin"),l(),p("ngIf",i.rol==="admin"),l(),p("ngIf",i.rol==="paciente"||i.rol==="especialista"),l(),p("ngIf",i.rol==="admin"||i.rol==="paciente"),l(),p("ngIf",i.rol==="especialista"),l(),p("ngIf",i.isLogged))},dependencies:[le,ce,de,ie],styles:[".nav-link[_ngcontent-%COMP%]{color:#000}.ruta-activa[_ngcontent-%COMP%]{font-weight:900;color:#183058}.custom-nav[_ngcontent-%COMP%]{height:120px;background-color:#fff;transition:all;padding:0 10px;z-index:2;position:fixed;width:100%;display:flex;flex-direction:column}.nav-opt[_ngcontent-%COMP%]{background-color:#0000;cursor:pointer;z-index:2;font-size:17px;font-weight:400}.nav-opt[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.icono[_ngcontent-%COMP%]{width:90px}.tit-icono[_ngcontent-%COMP%]{color:#cd1c2a;font-weight:600}.tit-icono-2[_ngcontent-%COMP%]{color:#154688}.logout-text[_ngcontent-%COMP%]{color:#000;width:100%;display:flex;justify-content:center}.img-user[_ngcontent-%COMP%]{border-radius:50%;margin:25px 0}.div-custom[_ngcontent-%COMP%]{margin:0}.a-custom[_ngcontent-%COMP%]{padding:8px 0}"]})}}return e})();re(Ge,ze).catch(e=>console.error(e));
