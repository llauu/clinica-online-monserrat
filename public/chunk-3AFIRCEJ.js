import{B as E,C as oe,a as z,b as F,c as N,d as j,e as q,h as Q,i as A,j as B,k as L,l as G,m as J,n as K,o as W,p as X,q as Y,r as Z,s as ee,t as te,u as v,v as ie,w as ne}from"./chunk-YIS3HYUP.js";import"./chunk-CJRUVNUV.js";import{U as $,g as H}from"./chunk-4TCFWNX2.js";import{j as R}from"./chunk-FF7OLIXW.js";import{$a as s,Cb as n,Db as i,Eb as f,Fb as g,Gb as h,Ib as C,Lb as p,Mb as _,Pb as T,Rb as y,Sb as V,Tb as I,Vb as o,Wb as x,Xb as S,Ya as U,Zb as P,_b as O,ab as k,oa as D,rb as u,tb as w,wa as m,xa as d,yb as b}from"./chunk-52PAEBTB.js";var re=()=>[5,10,25,100];function le(e,r){e&1&&(n(0,"th",31)(1,"b",32),o(2,"Nombre"),i()())}function se(e,r){if(e&1){let t=C();n(0,"td",33),p("click",function(){let l=m(t).$implicit,c=_();return d(c.onClickUsuario(l))}),o(1),i()}if(e&2){let t=r.$implicit;s(),S(" ",t.nombre," ")}}function ce(e,r){e&1&&(n(0,"th",34)(1,"b"),o(2,"Apellido"),i()())}function me(e,r){if(e&1){let t=C();n(0,"td",33),p("click",function(){let l=m(t).$implicit,c=_();return d(c.onClickUsuario(l))}),o(1),i()}if(e&2){let t=r.$implicit;s(),S(" ",t.apellido," ")}}function de(e,r){e&1&&(n(0,"th",34)(1,"b"),o(2,"Edad"),i()())}function ue(e,r){if(e&1){let t=C();n(0,"td",33),p("click",function(){let l=m(t).$implicit,c=_();return d(c.onClickUsuario(l))}),o(1),i()}if(e&2){let t=r.$implicit;s(),S(" ",t.edad," ")}}function pe(e,r){e&1&&(n(0,"th",34)(1,"b"),o(2,"DNI"),i()())}function _e(e,r){if(e&1){let t=C();n(0,"td",33),p("click",function(){let l=m(t).$implicit,c=_();return d(c.onClickUsuario(l))}),o(1),i()}if(e&2){let t=r.$implicit;s(),S(" ",t.dni," ")}}function fe(e,r){e&1&&(n(0,"th",34)(1,"b"),o(2,"Correo"),i()())}function Ce(e,r){if(e&1){let t=C();n(0,"td",33),p("click",function(){let l=m(t).$implicit,c=_();return d(c.onClickUsuario(l))}),o(1),i()}if(e&2){let t=r.$implicit;s(),S(" ",t.email," ")}}function xe(e,r){e&1&&(n(0,"th",35)(1,"b"),o(2,"Rol"),i()())}function ge(e,r){if(e&1){let t=C();n(0,"td",33),p("click",function(){let l=m(t).$implicit,c=_();return d(c.onClickUsuario(l))}),o(1),i()}if(e&2){let t=r.$implicit;s(),S(" ",t.rol," ")}}function he(e,r){e&1&&f(0,"tr",36)}function Se(e,r){e&1&&f(0,"tr",37)}function we(e,r){e&1&&(n(0,"tr",38)(1,"td",39),o(2,"No se encontraron resultados."),i()())}function be(e,r){e&1&&(n(0,"h3",23),o(1,"Selecciona un usuario para ver su detalle."),i())}function ve(e,r){if(e&1&&f(0,"img",45),e&2){let t=_(2);T("src",t.usuarioSeleccionado.imagenDos,U)}}function Ee(e,r){if(e&1&&(n(0,"b"),o(1,"Obra social"),i(),n(2,"p"),o(3),i()),e&2){let t=_(2);s(3),x(t.usuarioSeleccionado.obraSocial)}}function Me(e,r){e&1&&f(0,"img",47)}function Ue(e,r){if(e&1){let t=C();n(0,"div"),f(1,"img",48),n(2,"a",49),p("click",function(){m(t);let l=_(3);return d(l.habilitarEspecialista())}),o(3,"Habilitar"),i()()}}function ke(e,r){if(e&1&&(n(0,"b"),o(1,"Especialidad"),i(),n(2,"p"),o(3),i(),n(4,"div",46)(5,"b"),o(6,"Habilitado"),i(),u(7,Me,1,0,"img",47)(8,Ue,4,0),i()),e&2){let t=_(2);s(3),x(t.usuarioSeleccionado.especialidad),s(4),b(7,t.usuarioSeleccionado.habilitado?7:8)}}function Te(e,r){if(e&1&&(n(0,"div",40)(1,"div",41),f(2,"img",42),u(3,ve,1,1,"img",43),i(),n(4,"div",44)(5,"b"),o(6,"Nombre"),i(),n(7,"p"),o(8),i(),n(9,"b"),o(10,"Apellido"),i(),n(11,"p"),o(12),i(),n(13,"b"),o(14,"Edad"),i(),n(15,"p"),o(16),i(),n(17,"b"),o(18,"DNI"),i(),n(19,"p"),o(20),i(),n(21,"b"),o(22,"Correo"),i(),n(23,"p"),o(24),i(),n(25,"b"),o(26,"Rol"),i(),n(27,"p"),o(28),i(),u(29,Ee,4,1)(30,ke,9,2),i()()),e&2){let t,a=_();s(2),T("src",a.usuarioSeleccionado.imagenUno,U),s(),w("ngIf",a.usuarioSeleccionado.rol==="paciente"),s(5),x(a.usuarioSeleccionado.nombre),s(4),x(a.usuarioSeleccionado.apellido),s(4),x(a.usuarioSeleccionado.edad),s(4),x(a.usuarioSeleccionado.dni),s(4),x(a.usuarioSeleccionado.email),s(4),x(a.usuarioSeleccionado.rol),s(),b(29,(t=a.usuarioSeleccionado.rol)==="paciente"?29:t==="especialista"?30:-1)}}var Qe=(()=>{class e{constructor(t,a){this.firestoreService=t,this.router=a,this.displayedColumns=["nombre","apellido","edad","dni","email","rol"],this.usuarioSeleccionado=null}ngOnInit(){this.firestoreService.getUsuarios().then(t=>{this.dataSource=new te(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){let a=t.target.value;this.dataSource.filter=a.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onClickUsuario(t){this.usuarioSeleccionado=t}habilitarEspecialista(){this.usuarioSeleccionado.habilitado=!0,this.firestoreService.habilitarEspecialista(this.usuarioSeleccionado.id)}redirectToRegister(t){this.router.navigate(["/registro-admin",t])}static{this.\u0275fac=function(a){return new(a||e)(k($),k(H))}}static{this.\u0275cmp=D({type:e,selectors:[["app-usuarios"]],viewQuery:function(a,l){if(a&1&&(y(E,5),y(v,5)),a&2){let c;V(c=I())&&(l.paginator=c.first),V(c=I())&&(l.sort=c.first)}},standalone:!0,features:[P],decls:45,vars:6,consts:[["input",""],[1,"table-usuarios","mx-5"],[1,"w-100"],[1,"search-field"],["matInput","","placeholder","Buscar...",3,"keyup"],[1,"mat-elevation-z8","shadow-none"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","","class","th-p","id","izq",4,"matHeaderCellDef"],["mat-cell","","class","fila-usuario",3,"click",4,"matCellDef"],["matColumnDef","apellido"],["mat-header-cell","","mat-sort-header","","class","th-p",4,"matHeaderCellDef"],["matColumnDef","edad"],["matColumnDef","dni"],["matColumnDef","email"],["matColumnDef","rol"],["mat-header-cell","","mat-sort-header","","class","th-p der","id","der",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","fail-search",4,"matNoDataRow"],["aria-label","Selecciona",1,"div-paginator",3,"pageSizeOptions"],[1,"d-flex","justify-content-between"],[1,"div-detalle","p-5"],[1,"txt-alta-usuario","text-center"],[1,"div-alta-usuario"],[1,"txt-alta-usuario"],[1,"div-imgs"],[1,"btn-sel","mx-4",3,"click"],["src","assets/paciente.jpg","alt","Paciente",1,"img-btn-sel"],["src","assets/doctor.jpg","alt","Especialista",1,"img-btn-sel"],["src","assets/admin.png","alt","Admin",1,"img-btn-sel"],["mat-header-cell","","mat-sort-header","","id","izq",1,"th-p"],[1,"izq"],["mat-cell","",1,"fila-usuario",3,"click"],["mat-header-cell","","mat-sort-header","",1,"th-p"],["mat-header-cell","","mat-sort-header","","id","der",1,"th-p","der"],["mat-header-row",""],["mat-row",""],[1,"fail-search"],["colspan","4",1,"mat-cell","ps-4","pt-4"],[1,"div-detalle-usuario"],[1,"div-imgs","mb-5"],["alt","Imagen uno",1,"img-usuario","m-auto",3,"src"],["class","img-usuario","alt","Imagen dos",3,"src",4,"ngIf"],[1,"div-datos-usuario"],["alt","Imagen dos",1,"img-usuario",3,"src"],[1,"d-flex","flex-column"],["src","assets/check.png","width","25","height","25","alt","So"],["src","assets/uncheck.png","width","25","height","25","alt","No"],[1,"ms-2","a-habilitar",3,"click"]],template:function(a,l){if(a&1){let c=C();n(0,"div",1)(1,"div",2)(2,"mat-form-field",3)(3,"mat-label"),o(4,"Buscar"),i(),n(5,"input",4,0),p("keyup",function(ae){return m(c),d(l.applyFilter(ae))}),i()()(),n(7,"div",5)(8,"table",6),g(9,7),u(10,le,3,0,"th",8)(11,se,2,1,"td",9),h(),g(12,10),u(13,ce,3,0,"th",11)(14,me,2,1,"td",9),h(),g(15,12),u(16,de,3,0,"th",11)(17,ue,2,1,"td",9),h(),g(18,13),u(19,pe,3,0,"th",11)(20,_e,2,1,"td",9),h(),g(21,14),u(22,fe,3,0,"th",11)(23,Ce,2,1,"td",9),h(),g(24,15),u(25,xe,3,0,"th",16)(26,ge,2,1,"td",9),h(),u(27,he,1,0,"tr",17)(28,Se,1,0,"tr",18)(29,we,3,0,"tr",19),i(),f(30,"mat-paginator",20),i(),n(31,"div",21)(32,"div",22),u(33,be,2,0,"h3",23)(34,Te,31,9),i(),n(35,"div",24)(36,"h3",25),o(37,"Registrar usuario nuevo"),i(),n(38,"div",26)(39,"button",27),p("click",function(){return m(c),d(l.redirectToRegister("paciente"))}),f(40,"img",28),i(),n(41,"button",27),p("click",function(){return m(c),d(l.redirectToRegister("especialista"))}),f(42,"img",29),i(),n(43,"button",27),p("click",function(){return m(c),d(l.redirectToRegister("admin"))}),f(44,"img",30),i()()()()()}a&2&&(s(8),w("dataSource",l.dataSource),s(19),w("matHeaderRowDef",l.displayedColumns),s(),w("matRowDefColumns",l.displayedColumns),s(2),w("pageSizeOptions",O(5,re)),s(3),b(33,l.usuarioSeleccionado==null?33:34))},dependencies:[N,F,z,q,j,ee,Q,B,K,L,A,W,G,J,X,Y,Z,ne,v,ie,oe,E,R],styles:[".table-usuarios[_ngcontent-%COMP%]{padding-top:150px;padding-bottom:100px}.search-field[_ngcontent-%COMP%]{width:100%;margin:auto}.th-p[_ngcontent-%COMP%]{font-size:17px}th[_ngcontent-%COMP%]{background-color:#d7d7d7!important}#izq[_ngcontent-%COMP%]{border-radius:5px 0 0!important}#der[_ngcontent-%COMP%]{border-radius:0 5px 0 0!important}.fila-usuario[_ngcontent-%COMP%]{cursor:pointer;border:none;color:#171717;background-color:#d7d7d7}.div-paginator[_ngcontent-%COMP%]{background-color:#d7d7d7;border-radius:0 0 5px 5px}.div-detalle[_ngcontent-%COMP%]{height:700px;width:35%;background-color:#d7d7d7;border-radius:5px;margin-top:25px;display:flex;flex-direction:column;justify-content:center;align-items:center}.div-alta-usuario[_ngcontent-%COMP%]{height:700px;width:49%;background-color:#d7d7d7;border-radius:5px;margin-top:25px;display:flex;flex-direction:column;justify-content:center;align-items:center}.txt-alta-usuario[_ngcontent-%COMP%]{font-size:30px;font-weight:600}.div-imgs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.btn-sel[_ngcontent-%COMP%], .img-btn-sel[_ngcontent-%COMP%]{border-radius:50%}.btn-sel[_ngcontent-%COMP%]:hover{opacity:.3}.div-detalle-usuario[_ngcontent-%COMP%]{width:440px}.img-usuario[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:5px}.a-habilitar[_ngcontent-%COMP%]{color:#f11010;font-weight:600;cursor:pointer}"]})}}return e})();export{Qe as UsuariosComponent};
