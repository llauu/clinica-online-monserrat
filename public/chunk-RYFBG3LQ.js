import{a as L,b as G,c as J,d as K,e as W,f as X,g as Y,h as Z,i as ee,j as te,k as ie,l as ne,m as ae,n as v,o as oe,p as re,q as E,r as le}from"./chunk-YWMTEUM4.js";import{a as N,b as q,c as Q,d as A,e as B}from"./chunk-D2JUWNLN.js";import"./chunk-UBX73J6E.js";import"./chunk-LDTVX5G4.js";import{h as F}from"./chunk-THQPPHQV.js";import{L as j}from"./chunk-VNZCHZJ2.js";import{k as z}from"./chunk-JV3CWM4K.js";import{$b as x,Ab as b,Bb as P,Db as O,Eb as R,Fb as n,Gb as i,Hb as f,Ib as g,Jb as S,Lb as C,Qb as p,Rb as _,Ub as T,Wb as y,Xb as V,Yb as I,_a as U,_b as a,ac as h,bb as s,cb as k,gc as $,hc as H,pa as D,tb as u,vb as w,ya as m,za as d}from"./chunk-7MNHCEPS.js";var ce=()=>[5,10,25,100];function me(e,o){e&1&&(n(0,"th",31)(1,"b",32),a(2,"Nombre"),i()())}function de(e,o){if(e&1){let t=C();n(0,"td",33),p("click",function(){let l=m(t).$implicit,c=_();return d(c.onClickUsuario(l))}),a(1),i()}if(e&2){let t=o.$implicit;s(),h(" ",t.nombre," ")}}function ue(e,o){e&1&&(n(0,"th",34)(1,"b"),a(2,"Apellido"),i()())}function pe(e,o){if(e&1){let t=C();n(0,"td",33),p("click",function(){let l=m(t).$implicit,c=_();return d(c.onClickUsuario(l))}),a(1),i()}if(e&2){let t=o.$implicit;s(),h(" ",t.apellido," ")}}function _e(e,o){e&1&&(n(0,"th",34)(1,"b"),a(2,"Edad"),i()())}function fe(e,o){if(e&1){let t=C();n(0,"td",33),p("click",function(){let l=m(t).$implicit,c=_();return d(c.onClickUsuario(l))}),a(1),i()}if(e&2){let t=o.$implicit;s(),h(" ",t.edad," ")}}function Ce(e,o){e&1&&(n(0,"th",34)(1,"b"),a(2,"DNI"),i()())}function xe(e,o){if(e&1){let t=C();n(0,"td",33),p("click",function(){let l=m(t).$implicit,c=_();return d(c.onClickUsuario(l))}),a(1),i()}if(e&2){let t=o.$implicit;s(),h(" ",t.dni," ")}}function he(e,o){e&1&&(n(0,"th",34)(1,"b"),a(2,"Correo"),i()())}function ge(e,o){if(e&1){let t=C();n(0,"td",33),p("click",function(){let l=m(t).$implicit,c=_();return d(c.onClickUsuario(l))}),a(1),i()}if(e&2){let t=o.$implicit;s(),h(" ",t.email," ")}}function Se(e,o){e&1&&(n(0,"th",35)(1,"b"),a(2,"Perfil"),i()())}function we(e,o){if(e&1){let t=C();n(0,"td",33),p("click",function(){let l=m(t).$implicit,c=_();return d(c.onClickUsuario(l))}),a(1),i()}if(e&2){let t=o.$implicit;s(),h(" ",t.rol," ")}}function be(e,o){e&1&&f(0,"tr",36)}function ve(e,o){e&1&&f(0,"tr",37)}function Ee(e,o){e&1&&(n(0,"tr",38)(1,"td",39),a(2,"No se encontraron resultados."),i()())}function Me(e,o){e&1&&(n(0,"h3",23),a(1,"Selecciona un usuario para ver su detalle."),i())}function Ue(e,o){if(e&1&&f(0,"img",45),e&2){let t=_(2);T("src",t.usuarioSeleccionado.imagenDos,U)}}function ke(e,o){if(e&1&&(n(0,"b"),a(1,"Obra social"),i(),n(2,"p"),a(3),i()),e&2){let t=_(2);s(3),x(t.usuarioSeleccionado.obraSocial)}}function Te(e,o){if(e&1&&a(0),e&2){let t=o.$implicit;h(" ",t," - ")}}function ye(e,o){e&1&&f(0,"img",47)}function Ve(e,o){if(e&1){let t=C();n(0,"div"),f(1,"img",48),n(2,"a",49),p("click",function(){m(t);let l=_(3);return d(l.habilitarEspecialista())}),a(3,"Habilitar"),i()()}}function Ie(e,o){if(e&1&&(n(0,"b"),a(1,"Especialidad"),i(),n(2,"p"),O(3,Te,1,1,null,null,P),i(),n(5,"div",46)(6,"b"),a(7,"Habilitado"),i(),u(8,ye,1,0,"img",47)(9,Ve,4,0),i()),e&2){let t=_(2);s(3),R(t.especialidadesEspecialista),s(5),b(8,t.usuarioSeleccionado.habilitado?8:9)}}function De(e,o){if(e&1&&(n(0,"div",40)(1,"div",41),f(2,"img",42),u(3,Ue,1,1,"img",43),i(),n(4,"div",44)(5,"b"),a(6,"Nombre"),i(),n(7,"p"),a(8),i(),n(9,"b"),a(10,"Apellido"),i(),n(11,"p"),a(12),i(),n(13,"b"),a(14,"Edad"),i(),n(15,"p"),a(16),i(),n(17,"b"),a(18,"DNI"),i(),n(19,"p"),a(20),i(),n(21,"b"),a(22,"Correo"),i(),n(23,"p"),a(24),i(),n(25,"b"),a(26,"Perfil"),i(),n(27,"p"),a(28),i(),u(29,ke,4,1)(30,Ie,10,1),i()()),e&2){let t,r=_();s(2),T("src",r.usuarioSeleccionado.imagenUno,U),s(),w("ngIf",r.usuarioSeleccionado.rol==="paciente"),s(5),x(r.usuarioSeleccionado.nombre),s(4),x(r.usuarioSeleccionado.apellido),s(4),x(r.usuarioSeleccionado.edad),s(4),x(r.usuarioSeleccionado.dni),s(4),x(r.usuarioSeleccionado.email),s(4),x(r.usuarioSeleccionado.rol),s(),b(29,(t=r.usuarioSeleccionado.rol)==="paciente"?29:t==="especialista"?30:-1)}}var Ge=(()=>{class e{constructor(t,r){this.firestoreService=t,this.router=r,this.displayedColumns=["nombre","apellido","edad","dni","email","rol"],this.usuarioSeleccionado=null,this.especialidadesEspecialista=[]}ngOnInit(){this.firestoreService.getUsuarios().then(t=>{this.dataSource=new ae(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){let r=t.target.value;this.dataSource.filter=r.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onClickUsuario(t){this.usuarioSeleccionado=t,this.usuarioSeleccionado.rol==="especialista"&&(typeof this.usuarioSeleccionado.especialidad=="object"?this.especialidadesEspecialista=Object.keys(this.usuarioSeleccionado.especialidad):console.error("Error al obtener las especialidades del usuario"))}habilitarEspecialista(){this.usuarioSeleccionado.habilitado=!0,this.firestoreService.habilitarEspecialista(this.usuarioSeleccionado.id)}redirectToRegister(t){this.router.navigate(["/registro-admin",t])}static{this.\u0275fac=function(r){return new(r||e)(k(j),k(F))}}static{this.\u0275cmp=D({type:e,selectors:[["app-usuarios"]],viewQuery:function(r,l){if(r&1&&(y(E,5),y(v,5)),r&2){let c;V(c=I())&&(l.paginator=c.first),V(c=I())&&(l.sort=c.first)}},standalone:!0,features:[$],decls:45,vars:6,consts:[["input",""],[1,"table-usuarios","mx-5"],[1,"w-100"],[1,"search-field"],["matInput","","placeholder","Buscar...",3,"keyup"],[1,"mat-elevation-z8","shadow-none"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","","class","th-p","id","izq",4,"matHeaderCellDef"],["mat-cell","","class","fila-usuario",3,"click",4,"matCellDef"],["matColumnDef","apellido"],["mat-header-cell","","mat-sort-header","","class","th-p",4,"matHeaderCellDef"],["matColumnDef","edad"],["matColumnDef","dni"],["matColumnDef","email"],["matColumnDef","rol"],["mat-header-cell","","mat-sort-header","","class","th-p der","id","der",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","fail-search",4,"matNoDataRow"],["aria-label","Selecciona",1,"div-paginator",3,"pageSizeOptions"],[1,"d-flex","justify-content-between"],[1,"div-detalle","p-5"],[1,"txt-alta-usuario","text-center"],[1,"div-alta-usuario"],[1,"txt-alta-usuario"],[1,"div-imgs"],[1,"btn-sel","mx-4",3,"click"],["src","assets/paciente.jpg","alt","Paciente",1,"img-btn-sel"],["src","assets/doctor.jpg","alt","Especialista",1,"img-btn-sel"],["src","assets/admin.png","alt","Admin",1,"img-btn-sel"],["mat-header-cell","","mat-sort-header","","id","izq",1,"th-p"],[1,"izq"],["mat-cell","",1,"fila-usuario",3,"click"],["mat-header-cell","","mat-sort-header","",1,"th-p"],["mat-header-cell","","mat-sort-header","","id","der",1,"th-p","der"],["mat-header-row",""],["mat-row",""],[1,"fail-search"],["colspan","4",1,"mat-cell","ps-4","pt-4"],[1,"div-detalle-usuario"],[1,"div-imgs","mb-5"],["alt","Imagen uno",1,"img-usuario","m-auto",3,"src"],["class","img-usuario","alt","Imagen dos",3,"src",4,"ngIf"],[1,"div-datos-usuario"],["alt","Imagen dos",1,"img-usuario",3,"src"],[1,"d-flex","flex-column"],["src","assets/check.png","width","25","height","25","alt","Si"],["src","assets/uncheck.png","width","25","height","25","alt","No"],[1,"ms-2","a-habilitar",3,"click"]],template:function(r,l){if(r&1){let c=C();n(0,"div",1)(1,"div",2)(2,"mat-form-field",3)(3,"mat-label"),a(4,"Buscar"),i(),n(5,"input",4,0),p("keyup",function(se){return m(c),d(l.applyFilter(se))}),i()()(),n(7,"div",5)(8,"table",6),g(9,7),u(10,me,3,0,"th",8)(11,de,2,1,"td",9),S(),g(12,10),u(13,ue,3,0,"th",11)(14,pe,2,1,"td",9),S(),g(15,12),u(16,_e,3,0,"th",11)(17,fe,2,1,"td",9),S(),g(18,13),u(19,Ce,3,0,"th",11)(20,xe,2,1,"td",9),S(),g(21,14),u(22,he,3,0,"th",11)(23,ge,2,1,"td",9),S(),g(24,15),u(25,Se,3,0,"th",16)(26,we,2,1,"td",9),S(),u(27,be,1,0,"tr",17)(28,ve,1,0,"tr",18)(29,Ee,3,0,"tr",19),i(),f(30,"mat-paginator",20),i(),n(31,"div",21)(32,"div",22),u(33,Me,2,0,"h3",23)(34,De,31,9),i(),n(35,"div",24)(36,"h3",25),a(37,"Registrar usuario nuevo"),i(),n(38,"div",26)(39,"button",27),p("click",function(){return m(c),d(l.redirectToRegister("paciente"))}),f(40,"img",28),i(),n(41,"button",27),p("click",function(){return m(c),d(l.redirectToRegister("especialista"))}),f(42,"img",29),i(),n(43,"button",27),p("click",function(){return m(c),d(l.redirectToRegister("admin"))}),f(44,"img",30),i()()()()()}r&2&&(s(8),w("dataSource",l.dataSource),s(19),w("matHeaderRowDef",l.displayedColumns),s(),w("matRowDefColumns",l.displayedColumns),s(2),w("pageSizeOptions",H(5,ce)),s(3),b(33,l.usuarioSeleccionado==null?33:34))},dependencies:[Q,q,N,B,A,ne,L,J,Y,K,G,Z,W,X,ee,te,ie,re,v,oe,le,E,z],styles:[".table-usuarios[_ngcontent-%COMP%]{padding-top:150px;padding-bottom:100px}.search-field[_ngcontent-%COMP%]{width:100%;margin:auto}.th-p[_ngcontent-%COMP%]{font-size:17px}th[_ngcontent-%COMP%]{background-color:#d7d7d7!important}#izq[_ngcontent-%COMP%]{border-radius:5px 0 0!important}#der[_ngcontent-%COMP%]{border-radius:0 5px 0 0!important}.fila-usuario[_ngcontent-%COMP%]{cursor:pointer;border:none;color:#171717;background-color:#d7d7d7}.div-paginator[_ngcontent-%COMP%]{background-color:#d7d7d7;border-radius:0 0 5px 5px}.div-detalle[_ngcontent-%COMP%]{height:700px;width:35%;background-color:#d7d7d7;border-radius:5px;margin-top:25px;display:flex;flex-direction:column;justify-content:center;align-items:center}.div-alta-usuario[_ngcontent-%COMP%]{height:700px;width:49%;background-color:#d7d7d7;border-radius:5px;margin-top:25px;display:flex;flex-direction:column;justify-content:center;align-items:center}.txt-alta-usuario[_ngcontent-%COMP%]{font-size:30px;font-weight:600}.div-imgs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.btn-sel[_ngcontent-%COMP%], .img-btn-sel[_ngcontent-%COMP%]{border-radius:50%}.btn-sel[_ngcontent-%COMP%]:hover{opacity:.3}.div-detalle-usuario[_ngcontent-%COMP%]{width:440px}.img-usuario[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:5px}.a-habilitar[_ngcontent-%COMP%]{color:#f11010;font-weight:600;cursor:pointer}"]})}}return e})();export{Ge as UsuariosComponent};
